<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="WellMind.Views.CheckInPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Title="Check-In">

    <ScrollView>
        <VerticalStackLayout Padding="24" Spacing="16">
            <Label Text="{Binding Prompt}" Style="{DynamicResource SubHeadline}" HorizontalOptions="Center" HorizontalTextAlignment="Center" />
            <Label Text="{Binding TodayDisplay}" Style="{DynamicResource DateHeadline}" HorizontalOptions="Start" />
            <Label Text="Answer at your own pace. Nothing is graded." Style="{DynamicResource CaptionText}" />

            <Grid ColumnDefinitions="*,Auto" ColumnSpacing="8">
                <Label Text="Energy" Style="{DynamicResource SectionTitle}" />
                <Label x:Name="EnergyEmojiLabel" Text="{Binding EnergyEmoji}" FontSize="20" Grid.Column="1" HorizontalOptions="End" />
            </Grid>
            <Slider x:Name="EnergySlider" Minimum="1" Maximum="5" Value="{Binding Energy}" Margin="0,0,0,4" ValueChanged="OnSliderValueChanged" DragStarted="OnSliderDragStarted" DragCompleted="OnSliderDragCompleted" />

            <Grid ColumnDefinitions="*,Auto" ColumnSpacing="8">
                <Label Text="Stress" Style="{DynamicResource SectionTitle}" />
                <Label x:Name="StressEmojiLabel" Text="{Binding StressEmoji}" FontSize="20" Grid.Column="1" HorizontalOptions="End" />
            </Grid>
            <Slider x:Name="StressSlider" Minimum="1" Maximum="5" Value="{Binding Stress}" Margin="0,0,0,4" ValueChanged="OnSliderValueChanged" DragStarted="OnSliderDragStarted" DragCompleted="OnSliderDragCompleted" />

            <Grid ColumnDefinitions="*,Auto" ColumnSpacing="8">
                <Label Text="Focus" Style="{DynamicResource SectionTitle}" />
                <Label x:Name="FocusEmojiLabel" Text="{Binding FocusEmoji}" FontSize="20" Grid.Column="1" HorizontalOptions="End" />
            </Grid>
            <Slider x:Name="FocusSlider" Minimum="1" Maximum="5" Value="{Binding Focus}" Margin="0,0,0,4" ValueChanged="OnSliderValueChanged" DragStarted="OnSliderDragStarted" DragCompleted="OnSliderDragCompleted" />

            <Grid ColumnDefinitions="*,Auto" ColumnSpacing="8">
                <Label Text="Sleep quality" Style="{DynamicResource SectionTitle}" />
                <Label x:Name="SleepEmojiLabel" Text="{Binding SleepEmoji}" FontSize="20" Grid.Column="1" HorizontalOptions="End" />
            </Grid>
            <Slider x:Name="SleepSlider" Minimum="1" Maximum="5" Value="{Binding SleepQuality}" Margin="0,0,0,4" ValueChanged="OnSliderValueChanged" DragStarted="OnSliderDragStarted" DragCompleted="OnSliderDragCompleted" />

            <Label Text="Optional note" Style="{DynamicResource SectionTitle}" />
            <Editor
                Text="{Binding Note}"
                Placeholder="Anything you want to remember later"
                AutoSize="TextChanges"
                HeightRequest="100" />

            <HorizontalStackLayout Spacing="12">
                <Button Text="Save check-in" Command="{Binding SubmitCommand}" />
                <Button Text="Not now" Command="{Binding CancelCommand}" Style="{DynamicResource SecondaryButton}" />
            </HorizontalStackLayout>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
